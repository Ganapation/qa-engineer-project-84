---
# ============================================
# ФИЛЬТРАЦИЯ И КАТАЛОГ
# ============================================

- summary: "Фильтрация товаров по категории"
  requirement: "Пользователь может фильтровать товары по различным критериям"
  prerequisites: "Пользователь находится на главной странице магазина"
  test-data: "Категория: 'beauty'"
  steps:
    - "Нажать на выпадающий список 'Category'"
    - "Выбрать категорию 'beauty'"
  expected-result: |
    Список товаров автоматически обновился.
    Отображаются только товары категории 'beauty'.

- summary: "Фильтрация товаров по бренду"
  requirement: "Пользователь может фильтровать товары по различным критериям"
  prerequisites: "Пользователь находится на главной странице магазина"
  test-data: "Бренд: 'Essence'"
  steps:
    - "В разделе 'Brand' отметить чекбокс 'Essence'"
  expected-result: |
    Список товаров автоматически обновился.
    Отображаются только товары бренда 'Essence'.

- summary: "Фильтрация товаров по наличию (In Stock)"
  requirement: "Пользователь может фильтровать товары по различным критериям"
  prerequisites: "Пользователь находится на главной странице магазина"
  test-data: "Фильтр: 'In Stock'"
  steps:
    - "В разделе 'In Stock' отметить чекбокс 'In Stock'"
  expected-result: |
    Список товаров автоматически обновился.
    Отображаются только товары, у которых количество на складе больше 0.

- summary: "Фильтрация товаров по ценовому диапазону (позитивный)"
  requirement: "Пользователь может фильтровать товары по различным критериям"
  prerequisites: "Пользователь находится на главной странице магазина"
  test-data: "Диапазон цен: от 5 до 20 $"
  steps:
    - "В разделе 'Price' заполнить поле 'From' значением 5"
    - "Заполнить поле 'To' значением 20"
  expected-result: |
    Список товаров автоматически обновился.
    Отображаются только товары с ценой от 5 до 20 $.

- summary: "Фильтрация товаров по ценовому диапазону (негативный: From > To)"
  requirement: "Пользователь может фильтровать товары по различным критериям"
  prerequisites: "Пользователь находится на главной странице магазина"
  test-data: "Диапазон цен: от 50 до 10 $"
  steps:
    - "В разделе 'Price' заполнить поле 'From' значением 50"
    - "Заполнить поле 'To' значением 10"
  expected-result: |
    Отображается сообщение 'Nothing found!'
    Блок пагинации ('Previous' / 'Next') присутствует.

- summary: "Фильтрация товаров по цене (негативный: отрицательные значения)"
  requirement: "Пользователь может фильтровать товары по различным критериям"
  prerequisites: "Пользователь находится на главной странице магазина"
  test-data: "Диапазон цен: от -10 до 20 $"
  steps:
    - "В разделе 'Price' заполнить поле 'From' значением -10"
    - "Заполнить поле 'To' значением 20"
  expected-result: |
    Система принимает отрицательное значение.
    (Баг: нет защиты от отрицательных чисел. Требуется доработка.)

- summary: "Фильтрация товаров по цене (негативный: буквы в поле ввода)"
  requirement: "Пользователь может фильтровать товары по различным критериям"
  prerequisites: "Пользователь находится на главной странице магазина"
  test-data: "Диапазон цен: от 'abc' до 'def'"
  steps:
    - "В разделе 'Price' попытаться ввести буквы в поле 'From'"
    - "Попытаться ввести буквы в поле 'To'"
  expected-result: |
    Ввод букв невозможен (есть защита).
    Поля принимают только цифры.

- summary: "Комбинированная фильтрация товаров (категория + бренд + наличие)"
  requirement: "Пользователь может фильтровать товары по различным критериям"
  prerequisites: "Пользователь находится на главной странице магазина"
  test-data: "Категория: 'beauty', Бренд: 'Essence', В наличии"
  steps:
    - "Выбрать категорию 'beauty'"
    - "Отметить чекбокс 'Essence'"
    - "Отметить чекбокс 'In Stock'"
  expected-result: |
    Список товаров автоматически обновился.
    Отображаются только товары, соответствующие всем выбранным фильтрам.

- summary: "Сброс фильтра по категории"
  requirement: "Пользователь может фильтровать товары по различным критериям"
  prerequisites: "Применён фильтр по категории, например 'beauty'"
  test-data: "Категория: пустое значение (по умолчанию)"
  steps:
    - "Нажать на выпадающий список 'Category'"
    - "Выбрать пустое значение (первый пункт)"
  expected-result: |
    Фильтр по категории сброшен.
    Отображаются товары всех категорий.

- summary: "Сброс фильтра по бренду"
  requirement: "Пользователь может фильтровать товары по различным критериям"
  prerequisites: "Применён фильтр по бренду 'Essence'"
  test-data: "Бренд: снять выделение"
  steps:
    - "В разделе 'Brand' снять чекбокс 'Essence'"
  expected-result: |
    Фильтр по бренду сброшен.
    Отображаются товары всех брендов.

# ============================================
# ПОИСК
# ============================================

- summary: "Поиск товара по ключевому слову (мгновенный поиск)"
  requirement: "Пользователь может искать товары по ключевому слову или категории"
  prerequisites: "Пользователь находится на главной странице магазина"
  test-data: "Ключевое слово: 'mascara'"
  steps:
    - "В поле поиска ввести 'mascara'"
  expected-result: |
    Результаты поиска обновляются по мере ввода текста.
    Отображаются товары, содержащие в названии или описании 'mascara'.

- summary: "Поиск товара с пустым запросом"
  requirement: "Пользователь может искать товары по ключевому слову или категории"
  prerequisites: "Пользователь находится на главной странице магазина"
  test-data: "Пустой поисковый запрос"
  steps:
    - "Очистить поле поиска (если там есть текст)"
    - "Убедиться, что поле поиска пустое"
  expected-result: |
    Отображается полный каталог товаров (все товары).
    Поисковый фильтр сброшен.

- summary: "Поиск несуществующего товара (негативный)"
  requirement: "Пользователь может искать товары по ключевому слову или категории"
  prerequisites: "Пользователь находится на главной странице магазина"
  test-data: "Ключевое слово: 'qwerty12345'"
  steps:
    - "В поле поиска ввести 'qwerty12345'"
  expected-result: |
    Отображается сообщение 'Nothing found!'
    Блок пагинации ('Previous' / 'Next') присутствует.

# ============================================
# ПАГИНАЦИЯ
# ============================================

- summary: "Переход на следующую страницу каталога (Next)"
  requirement: "Пользователь может просматривать каталог товаров с постраничным выводом"
  prerequisites: |
    В каталоге достаточно товаров для отображения нескольких страниц.
    Рекомендация: сбросить все фильтры и поиск.
  test-data: "Без фильтров"
  steps:
    - "Нажать ссылку 'Next' в блоке пагинации"
  expected-result: |
    Отображается следующая страница товаров.
    Ссылка 'Previous' становится активной.

- summary: "Возврат на предыдущую страницу каталога (Previous)"
  requirement: "Пользователь может просматривать каталог товаров с постраничным выводом"
  prerequisites: "Пользователь перешёл на вторую или последующую страницу каталога"
  test-data: "Без фильтров"
  steps:
    - "Нажать ссылку 'Previous' в блоке пагинации"
  expected-result: |
    Отображается предыдущая страница товаров.
    Если пользователь вернулся на первую страницу, ссылка 'Previous' становится неактивной.

- summary: "Пагинация с активным фильтром"
  requirement: "Пользователь может просматривать каталог товаров с постраничным выводом"
  prerequisites: |
    Выбран фильтр, который отображает достаточно товаров для нескольких страниц.
    Например, бренд 'Essence' содержит более 12 товаров.
  test-data: "Фильтр: бренд 'Essence'"
  steps:
    - "Отметить чекбокс 'Essence'"
    - "Дождаться обновления списка товаров"
    - "Нажать 'Next'"
  expected-result: |
    На второй странице отображаются товары бренда 'Essence'.
    Фильтр сохранился, пагинация работает корректно с отфильтрованной выборкой.

# ============================================
# ДЕТАЛЬНАЯ СТРАНИЦА ТОВАРА
# ============================================

- summary: "Просмотр детальной информации о товаре"
  requirement: "Пользователь может просматривать детальную информацию о товаре (название, рейтинг, цена со скидкой и без)"
  prerequisites: "Пользователь находится на главной странице или в каталоге"
  test-data: "Товар: 'Essence Mascara Lash Princess' (ID: 1)"
  steps:
    - "Кликнуть на название товара или изображение товара 'Essence Mascara Lash Princess'"
  expected-result: |
    Открыта детальная страница товара (URL: /products/1).
    Страница содержит:
    - Название товара
    - Рейтинг (звёзды, например 2.56 ★)
    - Цену без скидки (зачёркнутая, например 9.99$)
    - Цену со скидкой (например 8.94$)
    - Процент скидки (например 10.48% Off)
    - Количество на складе
    - Кнопку 'Add to cart'
    - Хэштег с категорией (например #beauty), кликабельный

- summary: "Переход по хэштегу категории со страницы товара"
  requirement: "Пользователь может фильтровать товары по категории"
  prerequisites: "Пользователь находится на детальной странице товара"
  test-data: "Хэштег: '#beauty' на странице товара 'Essence Mascara Lash Princess'"
  steps:
    - "На детальной странице товара кликнуть на хэштег (например '#beauty')"
  expected-result: |
    Произошёл переход на главную страницу.
    Автоматически применён фильтр по категории 'beauty'.
    Отображаются товары только этой категории.

# ============================================
# КОРЗИНА
# ============================================

- summary: "Добавление одного товара в корзину (с главной страницы)"
  requirement: "Пользователь может добавлять товары в корзину"
  prerequisites: "Пользователь находится на главной странице магазина"
  test-data: "Товар: 'Essence Mascara Lash Princess'"
  steps:
    - "Найти товар 'Essence Mascara Lash Princess'"
    - "Нажать кнопку 'Add to cart' у этого товара"
  expected-result: |
    Счётчик корзины (иконка корзины) увеличился на 1.
    Товар добавлен в корзину.

- summary: "Добавление одного товара в корзину (с детальной страницы)"
  requirement: "Пользователь может добавлять товары в корзину"
  prerequisites: "Пользователь находится на детальной странице товара"
  test-data: "Товар: 'Powder Canister'"
  steps:
    - "На детальной странице товара нажать кнопку 'Add to cart'"
  expected-result: |
    Счётчик корзины увеличился на 1.
    Товар добавлен в корзину.

- summary: "Добавление нескольких одинаковых товаров в корзину"
  requirement: "Пользователь может добавлять товары в корзину"
  prerequisites: "Пользователь находится на главной странице"
  test-data: "Товар: 'Essence Mascara Lash Princess', добавить 3 раза"
  steps:
    - "Нажать 'Add to cart' на товаре 'Essence Mascara Lash Princess'"
    - "Повторить нажатие ещё 2 раза (всего 3)"
  expected-result: |
    Счётчик корзины увеличился на 3.
    В корзине отображается товар с количеством 3.

- summary: "Добавление разных товаров в корзину"
  requirement: "Пользователь может добавлять товары в корзину"
  prerequisites: "Пользователь находится на главной странице"
  test-data: "Товары: 'Essence Mascara Lash Princess', 'Powder Canister'"
  steps:
    - "Нажать 'Add to cart' на товаре 'Essence Mascara Lash Princess'"
    - "Нажать 'Add to cart' на товаре 'Powder Canister'"
  expected-result: |
    Счётчик корзины увеличился на 2.
    В корзине отображаются оба товара.

- summary: "Просмотр содержимого корзины"
  requirement: "Пользователь может просматривать содержимое корзины"
  prerequisites: "В корзину добавлен хотя бы один товар"
  test-data: "Нет"
  steps:
    - "Нажать на иконку корзины (Cart)"
  expected-result: |
    Открывается страница корзины.
    Отображается список добавленных товаров с:
    - Названием
    - Изображением
    - Количеством (можно изменить)
    - Ценой за единицу
    - Общей стоимостью позиции
    - Кнопкой 'Удалить'
    Отображается общая сумма заказа.
    Доступны кнопки: 'Очистить корзину', 'Продолжить покупки', 'Оформить заказ'.

- summary: "Удаление товара из корзины"
  requirement: "Пользователь может удалять товары из корзины"
  prerequisites: "В корзине есть хотя бы один товар"
  test-data: "Товар: 'Essence Mascara Lash Princess'"
  steps:
    - "Перейти в корзину"
    - "Нажать кнопку 'Удалить' (Delete) рядом с товаром"
  expected-result: |
    Товар удалён из корзины.
    Общая сумма заказа пересчитана.
    Счётчик корзины уменьшился на соответствующее количество.

- summary: "Очистка всей корзины"
  requirement: "Пользователь может удалять товары из корзины"
  prerequisites: "В корзине есть несколько товаров"
  test-data: "Нет"
  steps:
    - "Перейти в корзину"
    - "Нажать кнопку 'Очистить корзину'"
  expected-result: |
    Все товары удалены из корзины.
    Счётчик корзины стал равен 0.
    Отображается сообщение о пустой корзине.

- summary: "Продолжение покупок из корзины"
  requirement: "Пользователь может просматривать каталог товаров"
  prerequisites: "Пользователь находится в корзине"
  test-data: "Нет"
  steps:
    - "В корзине нажать кнопку 'Продолжить покупки'"
  expected-result: |
    Произошёл переход на главную страницу каталога.
    Корзина сохранила своё состояние.

- summary: "Пустая корзина"
  requirement: "Корзина сохраняется в сессии браузера"
  prerequisites: "Корзина пуста"
  test-data: "Нет"
  steps:
    - "Перейти в корзину"
  expected-result: |
    Отображается сообщение о том, что корзина пуста.
    Отображается кнопка/ссылка для продолжения покупок.

- summary: "Сохранение корзины в сессии браузера"
  requirement: "Корзина сохраняется в сессии браузера"
  prerequisites: "В корзину добавлен товар, пользователь не авторизован"
  test-data: "Товар: 'Powder Canister'"
  steps:
    - "Добавить товар 'Powder Canister' в корзину"
    - "Перезагрузить страницу"
    - "Открыть корзину"
  expected-result: |
    Ранее добавленный товар всё ещё находится в корзине.
    Количество товара и сумма сохранились.

# ============================================
# ОФОРМЛЕНИЕ ЗАКАЗА
# ============================================

- summary: "Оформление заказа с переходом в модальное окно"
  requirement: "Пользователь может оформлять заказ с переходом на страницу оплаты"
  prerequisites: "В корзине есть хотя бы один товар"
  test-data: "Товар: 'Essence Mascara Lash Princess' (1 шт.)"
  steps:
    - "Перейти в корзину"
    - "Нажать кнопку 'Оформить заказ' (Checkout)"
  expected-result: |
    Появляется модальное окно 'Заказ успешно оформлен'.
    В окне отображается:
    - Название товара(ов)
    - Количество
    - Цена
    - Общая сумма заказа
    - Кнопка 'Закрыть'

- summary: "Закрытие модального окна после оформления заказа"
  requirement: "Пользователь может оформлять заказ"
  prerequisites: "Оформлен заказ, открыто модальное окно"
  test-data: "Нет"
  steps:
    - "В модальном окне 'Заказ успешно оформлен' нажать кнопку 'Закрыть'"
  expected-result: |
    Модальное окно закрывается.
    Пользователь остаётся в корзине или на главной странице.

- summary: "Оформление заказа с несколькими товарами"
  requirement: "Пользователь может оформлять заказ"
  prerequisites: "В корзине несколько товаров"
  test-data: "Товары: 'Mascara' (1 шт.), 'Powder' (2 шт.)"
  steps:
    - "Перейти в корзину"
    - "Нажать 'Оформить заказ'"
  expected-result: |
    Модальное окно содержит все товары из корзины.
    Общая сумма рассчитана верно.

# ============================================
# ЯЗЫК ИНТЕРФЕЙСА (ЛОКАЛИЗАЦИЯ)
# ============================================

- summary: "Переключение языка интерфейса на английский"
  requirement: "Пользователь может переключать язык интерфейса (русский/английский)"
  prerequisites: "Текущий язык интерфейса — русский"
  test-data: "Целевой язык: English"
  steps:
    - "Нажать на переключатель 'Язык ▼' в хедере"
    - "Выбрать 'English'"
  expected-result: |
    Интерфейс приложения отображается на английском языке.
    (Названия товаров и цены остаются на английском/в долларах.)

- summary: "Переключение языка интерфейса на русский"
  requirement: "Пользователь может переключать язык интерфейса (русский/английский)"
  prerequisites: "Текущий язык интерфейса — английский"
  test-data: "Целевой язык: Русский"
  steps:
    - "Нажать на переключатель 'Language ▼' в хедере"
    - "Выбрать 'Русский'"
  expected-result: |
    Интерфейс приложения отображается на русском языке.

- summary: "Переключение языка интерфейса на испанский"
  requirement: "Пользователь может переключать язык интерфейса"
  prerequisites: "Любой текущий язык"
  test-data: "Целевой язык: Spanish"
  steps:
    - "Нажать на переключатель языка"
    - "Выбрать 'Spanish'"
  expected-result: |
    Интерфейс приложения отображается на испанском языке.
    (Подтверждение: в требованиях указаны только русский/английский, но функционал есть.)

# ============================================
# КРОСС-БРАУЗЕРНОСТЬ И МОБИЛЬНЫЕ УСТРОЙСТВА
# ============================================

- summary: "Отображение верстки на мобильном устройстве (iPhone 12 Pro)"
  requirement: "Адаптивная верстка для удобства на мобильных устройствах"
  prerequisites: "Открыть DevTools, включить эмуляцию устройства"
  test-data: "Устройство: iPhone 12 Pro (390x844)"
  steps:
    - "В DevTools выбрать эмуляцию iPhone 12 Pro"
    - "Перезагрузить страницу"
    - "Проверить отображение всех элементов: хедер, поиск, фильтры, карточки товаров, пагинацию, корзину"
  expected-result: |
    БАГ: Верстка сбита, элементы наезжают друг на друга.
    Требуется доработка адаптивности.

- summary: "Отображение верстки на планшете (iPad)"
  requirement: "Адаптивная верстка для удобства на мобильных устройствах"
  prerequisites: "Открыть DevTools, включить эмуляцию устройства"
  test-data: "Устройство: iPad (768x1024)"
  steps:
    - "В DevTools выбрать эмуляцию iPad"
    - "Перезагрузить страницу"
    - "Проверить отображение элементов"
  expected-result: |
    Верстка должна корректно адаптироваться под ширину планшета.
    Все элементы доступны и читаемы.

- summary: "Кросс-браузерное тестирование (Chrome)"
  requirement: "Совместимость с последними версиями браузеров"
  prerequisites: "Установлен браузер Google Chrome последней версии"
  test-data: "Браузер: Chrome"
  steps:
    - "Открыть приложение в Chrome"
    - "Выполнить основные сценарии: фильтрация, добавление в корзину, оформление заказа"
  expected-result: |
    Все функции работают корректно.
    Интерфейс отображается без ошибок.

- summary: "Кросс-браузерное тестирование (Firefox)"
  requirement: "Совместимость с последними версиями браузеров"
  prerequisites: "Установлен браузер Firefox последней версии"
  test-data: "Браузер: Firefox"
  steps:
    - "Открыть приложение в Firefox"
    - "Выполнить основные сценарии"
  expected-result: |
    Все функции работают корректно.
    Нет расхождений с Chrome.

- summary: "Кросс-браузерное тестирование (Safari)"
  requirement: "Совместимость с последними версиями браузеров"
  prerequisites: "Устройство macOS / эмуляция"
  test-data: "Браузер: Safari"
  steps:
    - "Открыть приложение в Safari"
    - "Выполнить основные сценарии"
  expected-result: |
    Все функции работают корректно.
    Нет специфичных для Safari ошибок.

# ============================================
# ТЕСТИРОВАНИЕ СЕТИ (DEVTOOLS)
# ============================================

- summary: "Проверка сетевых запросов при оформлении заказа"
  requirement: "Приложение должно иметь систему обработки ошибок"
  prerequisites: "Открыт DevTools, вкладка Network"
  test-data: "Товар в корзине"
  steps:
    - "Перейти в корзину"
    - "Нажать 'Оформить заказ'"
    - "Во вкладке Network проверить запрос, отправленный при оформлении"
  expected-result: |
    БАГ: Запрос завершается ошибкой 500.
    Response: {status: 500, title: "failed", detail: "failed", message: "failed"}
    Требуется исправление серверной части.

- summary: "Проверка сетевых запросов при фильтрации"
  requirement: "Оптимизация скорости работы приложения"
  prerequisites: "Открыт DevTools, вкладка Network"
  test-data: "Фильтр по бренду"
  steps:
    - "Отметить чекбокс бренда 'Essence'"
    - "Во вкладке Network проверить наличие запроса на обновление товаров"
  expected-result: |
    Запрос выполняется.
    Статус ответа: 200 OK.
    Время ответа не превышает приемлемых значений.

- summary: "Проверка сетевых запросов при поиске"
  requirement: "Оптимизация скорости работы приложения"
  prerequisites: "Открыт DevTools, вкладка Network"
  test-data: "Поиск: 'mascara'"
  steps:
    - "Ввести в поиск 'mascara'"
    - "Проверить сетевые запросы"
  expected-result: |
    Запросы выполняются по мере ввода текста.
    Статус ответа: 200 OK.

# ============================================
# ДОПОЛНИТЕЛЬНЫЕ НЕГАТИВНЫЕ ТЕСТЫ
# ============================================

- summary: "Добавление в корзину товара с нулевым остатком"
  requirement: "Пользователь может добавлять товары в корзину"
  prerequisites: "Найден товар с количеством 0 на складе"
  test-data: "Товар: с остатком 0"
  steps:
    - "Нажать 'Add to cart' на товаре, которого нет в наличии"
  expected-result: |
    Кнопка 'Add to cart' должна быть неактивна или скрыта.
    Либо при нажатии отображается сообщение о невозможности добавления.

- summary: "Попытка оформления заказа с пустой корзиной"
  requirement: "Пользователь может оформлять заказ"
  prerequisites: "Корзина пуста"
  test-data: "Нет"
  steps:
    - "Перейти в корзину"
    - "Нажать кнопку 'Оформить заказ'"
  expected-result: |
    Кнопка 'Оформить заказ' неактивна.
    Либо при нажатии отображается сообщение 'Корзина пуста'.
